
\documentclass{article}
\usepackage{utf8math,ttquot,mathpartir,amsmath, amssymb, hydrocomments, mathtools,multicol,xspace}
\usepackage[margin=1in]{geometry}
\begin{document}

\section{syntax}

\newcommand{\closedprogram}{\textit{closed-program}\xspace}
\newcommand{\compiledcomponent}{\textit{compiled-component}\xspace}
\newcommand{\incast}{\textit{incast}\xspace}
\newcommand{\outcast}{\textit{outcast}\xspace}
\newcommand{\seqstart}{\textit{seq-start}\xspace}
\newcommand{\seqend}{\textit{seq-end}\xspace}
\newcommand{\chain}{\textit{chain}\xspace}
\newcommand{\op}{\textit{op}\xspace}
\newcommand{\N}{\mathbb{N}}

\begin{figure}
  \begin{align*}
    \closedprogram &:= "declare"~ A… ~"in"~ \compiledcomponent…\\
    A &∈ \textit{handoff-names}\\
    \compiledcomponent &:= \incast;\outcast\\
    \incast &= \seqstart; \chain ∣ "rejoin"(\incast ∣ \incast ); \chain\\
    \outcast &= \chain; \seqend ∣ \chain; "tee"(\outcast ∣ \outcast)\\
    \seqstart &= A ∣ \op[ℕ]\\
    \seqend &= A ∣ [ℕ]\op
  \end{align*}
  \label{fig:syntax}
  \caption{Syntax}
\end{figure}


In figure \ref{fig:syntax}

\section{types}

\begin{figure}
    \begin{mathpar}
    \inferrule{a}{b}
  \end{mathpar}
  \label{fig:types}
  \caption{Types}
\end{figure}


In figure \ref{fig:types}


\end{document}
